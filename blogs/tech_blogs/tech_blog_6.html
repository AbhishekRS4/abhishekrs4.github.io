<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<head>
  <meta name=viewport content=“width=800”>
  <meta name="generator" content="HTML Tidy for Linux/x86 (vers 11 February 2007), see www.w3.org">
  <meta name="google-site-verification" content="XXjK99sZKdpFN8kxwbglvDK8Gbhanfx-QfZGGG_TU1M" />
  <style type="text/css">
    /* Color scheme stolen from Sergey Karayev */

    a {
      color: #1772d0;
      text-decoration: none;
    }

    a:focus,
    a:hover {
      color: #f09228;
      text-decoration: none;
    }

    body,
    td,
    th,
    tr,
    p,
    a {
      font-family: 'Lato', Verdana, Helvetica, sans-serif;
      font-size: 16px
    }

    strong {
      font-family: 'Lato', Verdana, Helvetica, sans-serif;
      font-size: 16px;
    }

    heading {
      font-family: 'Lato', Verdana, Helvetica, sans-serif;
      font-size: 24px;
    }

    papertitle {
      font-family: 'Lato', Verdana, Helvetica, sans-serif;
      font-size: 16px;
      font-weight: 700
    }

    name {
      font-family: 'Lato', Verdana, Helvetica, sans-serif;
      font-size: 34px;
    }

    #paper_img{
      width: 200px;
    }

    .fade {
      transition: opacity .2s ease-in-out;
      -moz-transition: opacity .2s ease-in-out;
      -webkit-transition: opacity .2s ease-in-out;
    }

    span.highlight {
      background-color: #ffffd0;
    }
  </style>

  <title>Abhishek Ramanathapura Satyanarayana</title>
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
  <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <link href="../../assets/css/tech_blog.css" rel="stylesheet">
</head>

<body>
  <table width="900" border="0" align="center" cellspacing="0" cellpadding="0">
    <tr>
      <td>
        <table width="100%" align="center" border="0" cellspacing="0" cellpadding="20">
          <tr>
            <td width="67%" valign="middle">
              <heading>
                Tech Blog: Setting up a CI workflow for a Python project using GitHub Actions
              </heading>
              <br>
              <span> Posted by <strong>Abhishek R. S.</strong> on <strong>2024-07-09</strong> </span>

              <!-- General info about the project -->
              <h3>The blog is about...</h3>
              <p>
                Setting up a CI workflow pipeline for a Python project using GitHub actions. The workflow includes setting 
                dependencies for a Python project, code linting, code formatting, and handling some test cases.
                The workflow that is discussed in this blog is setup for a project that can be found in the following 
                <a href="https://github.com/AbhishekRS4/ML_NY_Taxi"> ML_NY_Taxi </a> GitHub repo.
              </p>

              <!-- Some specific info about the project -->
              <h3>1.1) The main components in the CI workflow </h3>
              <p>
                The following are the main components, that are usually used, in a CI workflow for the Python Project.
                <ul>
                  <li>
                    <p>
                      Setting up Python package dependencies (handled using <code>pip</code> and <code>requirements.txt</code>)
                    </p>
                  </li>
                  <li>
                    <p>
                      Code linting (<code>PyLint</code> package has been utilized for this)
                    </p>
                  </li>
                  <li>
                    <p>
                      Code formatting (<code>Black</code> package has been utilized for this)
                    </p>
                  </li>
                  <li>
                    <p>
                      Handling some test cases (<code>PyTest</code> package has been utilized for this) 
                    </p>
                  </li>
                </ul>
              </p>
              <p>
                In the GitHub Actions workflow used for this project, only one thing is omitted and that is handling some test cases
                because of the need for the model files in the code repo. Since the model files were not added to the GitHub repo, it is omitted. Otherwise
                it is a best practice to include handling some test cases.
              </p>

              <h3>1.2) Using a Makefile for performing different components of the workflow </h3>
              <p>
                A <code>Makefile</code> has been used for adding different components of the workflow.
                The <code>Makefile</code> can be found in the <a href="https://github.com/AbhishekRS4/ML_NY_Taxi/Makefile"> repo </a>.
                This includes steps for all the mentioned components.
              </p>
              <p>
                Testing the various components of the <code>Makefile</code> locally can be performed with the following commands

                For managing package dependencies, run
                <br>
                <code>make install</code>
                <br>

                For code linting, run
                <br>
                <code>make lint</code>
                <br>

                For code formatting, run
                <br>
                <code>make format</code>
                <br>

                The test cases can be run manually, locally, because the model files were present inside the required directories.
                For handling test cases, run
                <br>
                <code>make test</code>
                <br>

                For running everything, run
                <br>
                <code>make all</code>
                <br>
              </p>

              <h3>1.3) Setting up a GitHub actions workflow on a repo</h3>
              <p>
                In a GitHub repo, a workflow for various different tasks can be setup in the Actions tab. A number of predefined templates are available 
                for automating various workflows. However, none of the available templates were in this project and a workflow was setup by me.
                Click on Actions ->  Setup a workflow yourself -> Copy paste the workflow to the <code>main.yml</code> file -> Commit the changes to the repo.
              </p>

              <p>
                A <code>main.yml</code> will be created inside the <code>.github/workflows</code> directory in the repo.
                The workflow file of this project can be found 
                <a href="https://github.com/AbhishekRS4/ML_NY_Taxi/blob/main/.github/workflows/main.yml"> here </a>.
                One can easily understand the structure of the <code>main.yml</code> file. There is a name which describes the workflow.
                There is field, push, on which the CI workflow needs to be performed. There are named steps that needs to be performed as 
                part of the workflow. Most of the usual workflow steps are present. It can be noted that handling the test cases are skipped due to the 
                nature of the tests in this particular project. But, it is a good practice to include this for other projects where the nature of test cases
                are different.
              </p>

              <h3>1.4) Displaying a badge in the readme for the GitHub actions workflow execution status</h3>
              <p>
                It can also be noted that a badge has been displayed in the project repo's 
                <a href="https://github.com/AbhishekRS4/ML_NY_Taxi/blob/main/README.md"> README.md </a>. If any of the steps in the workflow fails, the badge 
                will display a Failing. For the badge to show Passing, all of the steps need to be successful.
              </p>

              <!-- Some conclusions, learnings during this project -->
              <h3>Main takeaway</h3>
              <p>
                These are some of the new things that I learned in this project. The first is the usage of <code>Makefile</code> for handling
                different components of the CI automation workflow. The main learning is the use of GitHub Actions to automate some 
                CI workflows. Since, this is a relatively simple workflow, I did not face much difficulties regarding the workflow except for 
                handling the test cases using <code>PyTest</code>. I tried using the fixtures feature of <code>PyTest</code> package. It worked fine 
                locally but I could not get it working on the GitHub Actions hence this step has been omitted for this particular project.
              </p>

              <!-- Future work ideas, to build on this project -->
              <h3>Next Steps</h3>
              <ul>
                <li>
                  <p>
                    Work on some more workflows using the testing component.
                  </p>
                </li>
                <li>
                  <p>
                    Work on different but useful workflows like deploying applications to cloud environments.
                  </p>
                </li>
              </ul>
            </td>
          </tr>
        </table>

        <table width="100%" align="center" border="0" cellspacing="0" cellpadding="20">
          <p>
            <i>
              <strong>About the author</strong>: Abhishek is a graduate AI engineer who is interested
              in developing and deploying Artificial Intelligence, Machine Learning, Computer Vision, Data Science
              applications. His goal is to improve human lives by leveraging real world data.
            </i>
          </p>
        </table>

      </td>
    </tr>
  </table>
</body>

</html>
